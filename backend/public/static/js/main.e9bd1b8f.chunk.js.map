{"version":3,"sources":["store/toy.reducer.js","services/user.service.js","store/user.reducer.js","store/review.reducer.js","store/store.js","pages/home.jsx","services/toy.service.js","services/util.service.js","services/event-bus.service.js","store/toy.actions.js","cmps/toy-add.jsx","pages/toy-edit.jsx","pages/toy-details.jsx","cmps/toy-preview.jsx","cmps/toy-list.jsx","cmps/toy-filter.jsx","pages/toy-app.jsx","pages/user-details.jsx","cmps/StorsMap.jsx","pages/dashboard.jsx","cmps/login-signup.jsx","cmps/user-msg.jsx","pages/login.jsx","store/user.actions.js","services/http.service.js","services/async-storage.service.js","services/review.service.js","pages/review-app.jsx","store/review.actions.js","routes.js","pages/about.jsx","cmps/app-header.jsx","cmps/app-footer.jsx","root-cmp.jsx","index.js"],"names":["initialState","toys","priceAvg","axios","Axios","create","withCredentials","BASE_URL","STORAGE_KEY","userService","getLoggedinUser","JSON","parse","sessionStorage","getItem","login","credentials","post","then","res","data","user","setItem","stringify","logout","removeItem","signup","reviews","rootReducer","combineReducers","toyModule","state","action","newState","type","filter","toy","_id","toyId","map","window","toyState","userModule","userState","reviewModule","review","reviewId","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Home","className","React","Component","toyService","query","filterBy","get","params","getById","remove","delete","add","console","log","update","put","utilService","makeId","length","txt","possible","i","charAt","Math","floor","random","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","getDate","miliSec","year","Date","getFullYear","month","getMonth","day","hours","getHours","minutes","getMinutes","time","eventBusService","on","eventName","listener","callListener","detail","addEventListener","removeEventListener","emit","dispatchEvent","CustomEvent","showUserMsg","showSuccessMsg","showErrorMsg","loadtoys","dispatch","myBus","options","value","label","_ToyAdd","newToy","toyName","toyPrice","selectedOption","clearState","setState","clearTemplate","handleChange","ev","field","target","name","handleSelectChange","onSave","preventDefault","props","onAddToy","this","onSubmit","placeholder","onChange","required","mapDispatchToProps","price","labels","createdAt","now","inStock","savedtoy","catch","err","ToyAdd","connect","_ToyEdit","onEdittoy","id","match","currtoy","to","updatToy","ToyEdit","ToyDetails","src","alt","ToyPreview","onClick","onRemovetoy","ToyList","onCheckBox","ToyFilter","onChangeFilter","_ToyApp","isAddingToy","sortBy","onClosAddToy","onChangeSort","sort","toy1","toy2","localeCompare","htmlFor","ToyApp","_UserDetails","username","password","fullname","prefs","color","bgColor","UserDetails","_StorsMap","center","lat","lng","isInfoWindowOn","onMapClicked","latLng","onMarkerClicked","onInfoWindowClose","google","zoom","initialCenter","style","width","position","onClose","visible","StorsMap","GoogleApiWrapper","apiKey","_Dashboard","toysAvgPrice","setLabelsPercent","prices","avgPrice","includes","push","avg","reduce","previousValue","currentValue","datasets","backgroundColor","borderColor","borderWidth","Dashboard","LoginSignup","isSignup","toggleSignup","onLogin","onSignup","autoFocus","UserMsg","msg","removeEvent","setTimeout","msgClass","_Login","onLogout","Login","httpService","endpoint","ajax","a","method","url","dir","response","status","location","assign","storageService","entityType","entityId","entities","find","entity","newEntity","_makeId","_save","updatedEntity","idx","findIndex","splice","delay","localStorage","gToys","Promise","resolve","reject","text","reviewService","queryStr","addedReview","freshReviews","_ReviewApp","reviewToEdit","aboutUserId","prevState","addReview","alert","onRemove","removeReview","canRemove","byUser","loggedInUser","isAdmin","loadReviews","loadUsers","aboutUser","users","getUsers","changeScore","score","path","component","_AppHeader","href","AppHeader","Footer","RootCmp","routes","route","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e9bd1b8f.chunk.js","sourcesContent":["const initialState = {\r\n    toys: [],\r\n    // filterBy: 'all',\r\n    priceAvg:null\r\n\r\n}\r\nexport function toyReducer(state = initialState, action) {\r\n    var newState = state\r\n    var toys;\r\n    \r\n    switch (action.type) {\r\n       \r\n            case \"SET_TOYS\":\r\n              newState = { ...state, toys: action.toys };\r\n              break;\r\n            case \"REMOVE_TOY\":\r\n              toys = state.toys.filter((toy) => toy._id !== action.toyId);\r\n              newState = { ...state, toys: toys };\r\n              break;\r\n            case \"ADD_TOY\":\r\n              newState = { ...state, toys: [...state.toys, action.toy] };\r\n              break;\r\n            case \"UPDATE_TOY\":\r\n              toys = state.toys.map((toy) =>\r\n                toy._id === action.toy._id ? action.toy : toy\r\n              );        \r\n              newState = { ...state, toys };\r\n              break;\r\n              // case 'CHANGE_FILTER':\r\n              //   newState = {...state, filterBy: action.newFilterBy }\r\n              //   console.log('newState:',newState);\r\n              //   break;\r\n             \r\n    }\r\n    window.toyState = newState\r\n    \r\n    return newState\r\n\r\n}\r\n","import Axios from 'axios'\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\nconst BASE_URL = (process.env.NODE_ENV == 'production')\r\n ? '/api/auth'\r\n : '/localhost:3030/api/auth';\r\n\r\nconst STORAGE_KEY = 'loggedinUser'\r\n\r\nexport const userService = {\r\n    getLoggedinUser,\r\n    login,\r\n    logout,\r\n    signup\r\n}\r\n\r\n\r\n\r\nfunction signup(credentials) {\r\n    return axios.post(`${BASE_URL}/signup`, credentials).then(res => res.data)\r\n        .then(user => {\r\n            sessionStorage.setItem(STORAGE_KEY, JSON.stringify(user))\r\n            return user\r\n        }) \r\n}\r\n\r\nfunction login(credentials) {\r\n    return axios.post(`${BASE_URL}/login`, credentials).then(res => res.data)\r\n        .then(user => {\r\n            sessionStorage.setItem(STORAGE_KEY, JSON.stringify(user))\r\n            return user\r\n        })\r\n}\r\n\r\nfunction logout() {\r\n    return axios.post(`${BASE_URL}/logout`).then(() =>\r\n        sessionStorage.removeItem(STORAGE_KEY)\r\n    )\r\n}\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY))\r\n}\r\n\r\n","import { userService } from \"../services/user.service.js\";\r\n\r\nconst initialState = {\r\n  user: userService.getLoggedinUser(),\r\n};\r\nexport function userReducer(state = initialState, action) {\r\n  var newState = state;\r\n  switch (action.type) {\r\n    case \"SET_USER\":\r\n      newState = { ...state, user: action.user };\r\n      break;\r\n  }\r\n\r\n  window.userState = newState;\r\n  return newState;\r\n}\r\n","const initialState = {\r\n  reviews: [],\r\n}\r\n\r\nexport function reviewReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews }\r\n    case 'ADD_REVIEW':\r\n      return { ...state, reviews: [...state.reviews, action.review] }\r\n    case 'REMOVE_REVIEW':\r\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\r\n    case 'UPDATE_REVIEW':\r\n      return {\r\n        ...state,\r\n        reviews: state.reviews.map(review =>\r\n          review._id === action.review._id ? action.review : review\r\n        )}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport { toyReducer } from './toy.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { reviewReducer } from './review.reducer'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    toyModule : toyReducer,\r\n    userModule : userReducer,\r\n    reviewModule: reviewReducer,\r\n\r\n})\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n\r\n\r\n","\r\nimport React from 'react';\r\n\r\n\r\n\r\nexport class Home extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      \r\n      <div className=\"home\">\r\n        <h1>🎲</h1>\r\n        <h2>The place for all the toys you will ever want</h2>\r\n        </div>\r\n       \r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n","import Axios from 'axios'\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\nconst BASE_URL = (process.env.NODE_ENV == 'production')\r\n ? '/api/toy'\r\n : 'http://localhost:3030/api/toy';\r\n\r\n\r\nexport const toyService = {\r\n  query,\r\n  getById,\r\n  remove,\r\n  add,\r\n  update,\r\n \r\n}\r\n\r\n\r\nfunction query(filterBy) {\r\n  return axios.get(BASE_URL,{params:filterBy})\r\n.then(res => res.data)\r\n}\r\nfunction getById(toyId) {\r\n  return axios.get(`${BASE_URL}/${toyId}`).then(res => res.data)\r\n}\r\n\r\nfunction remove(toyId) {\r\n  return axios.delete(`${BASE_URL}/${toyId}`)\r\n}\r\nfunction add(toy) {\r\n  console.log('add',toy);\r\n  return axios.post(BASE_URL,toy).then(res => res.data)\r\n}\r\n\r\nfunction update(toy,toyId) {\r\n  return axios.put(`${BASE_URL}/${toyId}`, toy).then(res => \r\n  {\r\n    console.log('toyservice',toy,toyId);\r\n   return  res.data\r\n  }\r\n )\r\n}\r\n\r\n","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    getDate\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\nfunction getDate(miliSec) {\r\n    const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n    const year = new Date(miliSec).getFullYear()\r\n    const month = monthNames[new Date(miliSec).getMonth()]\r\n    const day = new Date(miliSec).getDate()\r\n    let hours = new Date(miliSec).getHours()\r\n    hours = hours < 10 ? `0${hours}` : hours;\r\n    let minutes = new Date(miliSec).getMinutes()\r\n    minutes = minutes < 10 ? `0${minutes}` : minutes;\r\n    let  time = 0\r\n    if (hours >= 0 && hours < 12) time = `${hours}:${minutes} am`\r\n    else time = `${hours}:${minutes} pm`\r\n    let date = `${month} ${day}, ${year}, ${time}`\r\n    return date\r\n}\r\n\r\n","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n// eventBusService.on('baba', (x)=>console.log('Hi Baba', x))\r\n// eventBusService.on('baba', (x)=>console.log('Hello Baba Ji', x))\r\n// eventBusService.emit('baba', [5, 8, 11])\r\n// setTimeout(()=>{\r\n//     eventBusService.emit('baba', 17)\r\n// }, 2000)\r\n\r\n/* Listening Component...\r\n    import {eventBusService} from 'path...event-bus-service'\r\n    eventBusService.on('some-event', (dataFromEvent) => {\r\n    do something with dataFromEvent\r\n    })\r\n\r\n   Receiving Component...\r\n    eventBusService.emit('some-event', data)\r\n*/","import { toyService } from \"../services/toy.service.js\";\r\nimport { utilService } from \"../services/util.service.js\";\r\nimport { showSuccessMsg, showErrorMsg } from \"../services/event-bus.service.js\";\r\nexport function loadtoys(filterBy) {\r\n  return (dispatch) => {\r\n    toyService.query(filterBy).then((toys) => {\r\n      dispatch({\r\n        type: \"SET_TOYS\",\r\n        toys,\r\n      });\r\n      console.log(\"toys from DB:\", toys);\r\n    });\r\n  };\r\n}\r\n\r\nexport function onRemovetoy(toyId) {\r\n  return (dispatch) => {\r\n    toyService\r\n      .remove(toyId)\r\n      .then(() => {\r\n        console.log(\"Deleted Succesfully!\");\r\n        dispatch({\r\n          type: \"REMOVE_TOY\",\r\n          toyId,\r\n        });\r\n        showSuccessMsg(\"toy removed\");\r\n      })\r\n      .catch((err) => {\r\n        showErrorMsg(\"Cannot remove toy\");\r\n      });\r\n  };\r\n}\r\n\r\nexport function onAddToy(toy) {\r\n  return (dispatch) => {\r\n    const newToy = {\r\n      name: toy.toyName,\r\n      price: toy.toyPrice,\r\n      labels: toy.selectedOption,\r\n      createdAt: utilService.getDate(Date.now()),\r\n      inStock: true,\r\n    };\r\n    console.log('new tou in action',newToy);\r\n    toyService\r\n      .add(newToy)\r\n      .then((savedtoy) => {\r\n        console.log(\"Added toy\", savedtoy);\r\n        dispatch({\r\n          type: \"ADD_TOY\",\r\n          toy: savedtoy,\r\n        });\r\n        showSuccessMsg(\"toy added\");\r\n      })\r\n      .catch((err) => {\r\n        showErrorMsg(\"Cannot add toy\");\r\n      });\r\n  };\r\n}\r\n\r\nexport function onEdittoy(newToy,toy) {\r\n  return (dispatch) => {\r\n    const updatToy = {\r\n      _id: toy._id,\r\n      inStock: newToy.inStock,\r\n      name: newToy.toyName,\r\n      price: newToy.toyPrice,\r\n      labels: toy.labels,\r\n      createdAt: toy.createdAt,\r\n    };\r\n    toyService\r\n      .update(updatToy,updatToy._id)\r\n      .then((savedtoy) => {\r\n        console.log(\"Updated toy:\", savedtoy);\r\n        dispatch({\r\n          type: \"UPDATE_TOY\",\r\n          savedtoy,\r\n        });\r\n        showSuccessMsg(\"toy updated\");\r\n      })\r\n      .catch((err) => {\r\n        showErrorMsg(\"Cannot update toy\");\r\n      });\r\n  };\r\n}\r\n\r\n// export function onChangeFilter(value) {\r\n//   return (dispatch) => {\r\n//     const newFilterBy = value;\r\n//     dispatch({\r\n//       type: \"CHANGE_FILTER\",\r\n//       newFilterBy,\r\n//     });\r\n//     console.log(\"value:\", value);\r\n//   };\r\n  \r\n// }\r\n\r\nexport function onCheckBox(toy) {\r\n  // return (dispatch) => {\r\n  //   const status = \"In stock\";\r\n  //   const toyToSave = { ...toy, status };\r\n  //   toyService.save(toyToSave).then((savedtoy) => {\r\n  //     dispatch({\r\n  //       type: \"UPDATE_toy\",\r\n  //       savedtoy,\r\n  //     });\r\n  //   });\r\n  // };\r\n}\r\n\r\n","import React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport Select from 'react-select';\r\nimport { onAddToy } from \"../store/toy.actions.js\";\r\n\r\nconst options = [\r\n  { value: 'On wheels', label: 'On wheels' },\r\n  { value: 'Baby', label: 'Baby' },\r\n  { value: 'Doll', label: 'Doll' },\r\n  { value: 'Outdoor', label: 'Outdoor' },\r\n  { value: 'Battery Powered', label: 'Battery Powered' },\r\n  { value: 'Kids', label: 'Kids' },\r\n];\r\nclass _ToyAdd extends React.Component {\r\n  state = {\r\n    newToy: {\r\n      toyName: \"\",\r\n      toyPrice: \"\",\r\n      selectedOption: null,\r\n    },\r\n    \r\n    }\r\n\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      newToy: {\r\n        toyName: \"\",\r\n      toyPrice: \"\",\r\n      },\r\n    };\r\n    this.setState({ clearTemplate });\r\n  };\r\n\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({\r\n      newToy: { ...this.state.newToy, [field]: value},\r\n    });\r\n  };\r\n\r\n  handleSelectChange = selectedOption => {\r\n    this.setState({ ...this.state.newToy.selectedOption,selectedOption });\r\n    console.log(`Option selected:`, selectedOption, this.state);\r\n  };\r\n\r\n  onSave = (ev = null) => {\r\n    if (ev) ev.preventDefault();\r\n    this.props.onAddToy(this.state.newToy)\r\n    this.clearState();\r\n  };\r\n\r\n  render() {\r\n    const {  toyName,\r\n    toyPrice ,selectedOption } =\r\n      this.state\r\n\r\n\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.onSave}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"toyName\"\r\n            value={toyName}\r\n            placeholder=\"toyName\"\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            name=\"toyPrice\"\r\n            value={toyPrice}\r\n            placeholder=\"toyPrice\"\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          <Select\r\n            value={selectedOption}\r\n            name=\"selectedOption\"\r\n            onChange={this.handleSelectChange}\r\n            options={options}\r\n          />\r\n\r\n          <button>\r\n            Save\r\n          </button>\r\n        </form>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    toys: state.toyModule.toys,\r\n  };\r\n}\r\nconst mapDispatchToProps = {\r\n  onAddToy\r\n};\r\n\r\nexport const ToyAdd = connect(mapStateToProps, mapDispatchToProps)(_ToyAdd);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { onEdittoy } from \"../store/toy.actions.js\";\r\nimport { toyService } from \"../services/toy.service.js\";\r\n\r\nclass _ToyEdit extends React.Component {\r\n  state = {\r\n    newToy: {\r\n      toyName: \"\",\r\n      toyPrice: \"\",\r\n      inStock: \"\",\r\n    },\r\n    toy: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const id= this.props.match.params.toyId;\r\n    console.log(id);\r\n    var currtoy = toyService.getById(id)\r\n    .then((currtoy) => {\r\n      this.setState({toy:currtoy });\r\n      console.log('curr',currtoy);\r\n    });\r\n  }\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      newToy: {\r\n        toyName: \"\",\r\n        toyPrice: \"\",\r\n        inStock: \"\",\r\n      },\r\n    };\r\n    this.setState({ clearTemplate });\r\n  };\r\n\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({\r\n      newToy: { ...this.state.newToy, [field]: value },\r\n    });\r\n  };\r\n\r\n  onSave = (ev = null) => {\r\n    if (ev) ev.preventDefault();\r\n    this.props.onEdittoy(this.state.newToy,this.state.toy);\r\n    this.clearState();\r\n  };\r\n\r\n  render() {\r\n    const { toyName, toyPrice, inStock, toy } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.onSave}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"toyName\"\r\n            value={toyName}\r\n            placeholder=\"toy name\"\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            name=\"toyPrice\"\r\n            value={toyPrice}\r\n            placeholder=\"toy price\"\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"inStock\"\r\n            value={inStock}\r\n            placeholder=\"in Stock? true/false\"\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n\r\n          <button>Edit</button>\r\n        </form>\r\n        <Link to={`/toy/`}>\r\n          <button>Back</button>\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    toys: state.toyModule.toys,\r\n  };\r\n}\r\nconst mapDispatchToProps = {\r\n  onEdittoy,\r\n};\r\n\r\nexport const ToyEdit = connect(mapStateToProps, mapDispatchToProps)(_ToyEdit);\r\n","import React from \"react\";\r\n\r\nimport { toyService } from \"../services/toy.service.js\";\r\nexport class ToyDetails extends React.Component {\r\n  state = {\r\n    toy: null,\r\n  };\r\n  componentDidMount() {\r\n    const id= this.props.match.params.toyId;\r\n    let toy = toyService.getById(id).then((toy) => {\r\n      this.setState({ toy });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { toy } = this.state;\r\n    \r\n    return !toy ? (\r\n      <img src=\"../img/loading.gif\" alt=\"\" />\r\n    ) : (\r\n      <div>\r\n        <h4>{toy.name}</h4>\r\n        <p>added at : {toy.createdAt}</p>\r\n        <p>price : {toy.price}$</p>\r\n        <p>in stock : {toy.inStock ? \"yes\" : \"no\"}</p>\r\n        <p>labels:</p>\r\n       {toy.labels&& <div>\r\n        {toy.labels.map((label) => (\r\n          <li key={label}>{label}</li>\r\n        ))}</div>}\r\n        {/* <h6>reviews:</h6>\r\n        {toy.reviews.map((review) => (\r\n          <div key={review.name}>\r\n            <p>writen by : {review.name}</p>\r\n            <p>{review.review}</p> */}\r\n          {/* </div>\r\n        ))} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { ToyEdit } from \"../pages/toy-edit.jsx\";\r\nimport { ToyDetails } from \"../pages/toy-details.jsx\";\r\nexport class ToyPreview extends React.Component {\r\n  render() {\r\n    const { toy } = this.props;\r\n    return (\r\n      <li key={toy._id} className=\"toy-preview margin\">\r\n        <h6 >{toy.name}</h6>\r\n        <Link  to={`/toy/${toy._id}`}>\r\n          more details\r\n        </Link>\r\n\r\n        <div>\r\n          \r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-danger margin\"\r\n            onClick={() => {\r\n              this.props.onRemovetoy(toy._id);\r\n            }}\r\n          >\r\n            x\r\n          </button>\r\n          <Link className=\"link-info margin\" to={`/toy/edit/${toy._id}`} >\r\n            <button type=\"button\" className=\"btn btn-outline-success margin\">\r\n              Edit\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport { ToyPreview } from \"./toy-preview.jsx\";\r\n\r\nexport class ToyList extends React.Component {\r\n  render() {\r\n    const { toys } = this.props;\r\n    return !toys ? (\r\n      <img src=\"../img/loading.gif\" alt=\"\" />\r\n    ) :  (\r\n      <ul className=\"toy-list margin\">\r\n        {toys.map((toy) => (\r\n          <ToyPreview\r\n            key={toy._id}\r\n            onRemovetoy={this.props.onRemovetoy}\r\n            onEdittoy={this.props.onEdittoy}\r\n            onCheckBox={this.props.onCheckBox}\r\n            toy={toy}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport function ToyFilter({ onChangeFilter }) {\r\n  const handleChange = (ev) => {\r\n    const field = ev.target.field;\r\n    const value = ev.target.value;\r\n    onChangeFilter({ toyName: value });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <select\r\n        className=\"browser-default\"\r\n        name=\"filter\"\r\n        id=\"filter\"\r\n        onChange={(ev) => {\r\n          onChangeFilter({inStock:ev.target.value});\r\n        }}\r\n      >\r\n        <option value=\"all\">All</option>\r\n        <option value=\"out of stock\">Out of stock</option>\r\n        <option value=\"in stock\">In stock</option>\r\n      </select>\r\n      <select\r\n        className=\"browser-default\"\r\n        name=\"labels\"\r\n        id=\"labels\"\r\n        onChange={(ev) => {\r\n          onChangeFilter({labels:ev.target.value});\r\n        }}\r\n      >\r\n        <option value=\"All\">All labels</option>\r\n        <option value=\"On wheels\">On wheels</option>\r\n        <option value=\"Baby\">Baby</option>\r\n        <option value=\"Doll\">Doll</option>\r\n        <option value=\"Battery Powered\">Battery Powered</option>\r\n        <option value=\"Kids\">Kids</option>\r\n        <option value=\"Outdoor\">Outdoor</option>\r\n      </select>\r\n      <input\r\n        onChange={handleChange}\r\n        type=\"search\"\r\n        name=\"name\"\r\n        id=\"name\"\r\n        placeholder=\"search\"\r\n      />\r\n\r\n     \r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { ToyAdd } from \"../cmps/toy-add.jsx\";\r\nimport {\r\n  loadtoys,\r\n  onRemovetoy,\r\n  onCheckBox,\r\n} from \"../store/toy.actions.js\";\r\nimport { ToyList } from \"../cmps/toy-list\";\r\nimport { toyService } from \"../services/toy.service.js\";\r\nimport { ToyFilter } from \"../cmps/toy-filter.jsx\";\r\nclass _ToyApp extends React.Component {\r\n  state = {\r\n    isAddingToy: false,\r\n    sortBy:null\r\n  };\r\n  componentDidMount() {\r\n    this.props.loadtoys(this.props.filterBy);\r\n  }\r\n\r\n  onRemovetoy = (toyId) => {\r\n    this.props.onRemovetoy(toyId);\r\n    this.props.loadtoys(this.props.filterBy);\r\n  };\r\n\r\n  sortBy(toys, sortBy) {\r\n    if (sortBy === \"name\") {\r\n      toys.sort((toy1, toy2) => {\r\n        return toy1.name.localeCompare(toy2.name);\r\n      });\r\n    } else if (sortBy === \"price\") {\r\n      toys.sort((toy1, toy2) => {\r\n        return toy1.price - toy2.price;\r\n      });\r\n    } else if (sortBy == \"created\") {\r\n      toys.sort((toy1, toy2) => {\r\n        return toy1.createdAt - toy2.createdAt;\r\n      });\r\n    }\r\n    return toys;\r\n  }\r\n\r\n  onAddToy = () => {\r\n    this.setState({ isAddingToy: true });\r\n  };\r\n\r\n  onClosAddToy = () => {\r\n    this.setState({ isAddingToy: false });\r\n  };\r\n  onChangeFilter = (value) => {\r\n    // this.props.onChangeFilter(value);\r\n    this.props.loadtoys(value)\r\n  };\r\n  onChangeSort = (value) => {\r\n    this.setState({sortBy:value})\r\n  }\r\n  onCheckBox = (toy) => {\r\n    this.props.onCheckBox(toy);\r\n  };\r\n\r\n  render() {\r\n    var { toys } = this.props;\r\n    // console.log(toys, filterBy);\r\n    // let { toyName } = filterBy;\r\n    // if (filterBy === \"All\") {\r\n    //   toys = toys;\r\n    // } else if (filterBy === \"In stock\") {\r\n    //   toys = toys.filter((toy) => toy.inStock);\r\n    // } else if (filterBy === \"not In stock\") {\r\n    //   toys = toys.filter((toy) => !toy.inStock);\r\n    // } else if (filterBy.toyName) {\r\n    //   toys = toys.filter((toy) => toy.name.includes(toyName));\r\n    // } else {\r\n    //   toys = toys.filter((toy) => toy.labels.includes(filterBy));\r\n    // }\r\n\r\n    toys=this.sortBy(toys,this.state.sortBy)\r\n    return !toys ? (\r\n      <img src=\"../img/loading.gif\" alt=\"\" />\r\n    ) : (\r\n      <div>\r\n        <main>\r\n          <ToyFilter onChangeFilter={this.onChangeFilter} />\r\n          <label htmlFor=\"sort\">Sort By:</label>\r\n          <select\r\n            className=\"browser-default\"\r\n            name=\"sort\"\r\n            id=\"sort\"\r\n            onChange={(ev) => {\r\n              this.onChangeSort(ev.target.value);\r\n            }}\r\n          >\r\n            <option value=\"name\">Name</option>\r\n            <option value=\"price\">Price</option>\r\n            <option value=\"created\">Created</option>\r\n          </select>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn-floating btn-large waves-effect waves-light grey\"\r\n            onClick={this.onAddToy}\r\n          >\r\n          <i className=\"material-icons\">add</i>\r\n          </button>\r\n          {this.state.isAddingToy && (\r\n            <div>\r\n              <ToyAdd />\r\n              <button onClick={this.onClosAddToy}>back</button>\r\n            </div>\r\n          )}\r\n          <ToyList\r\n            onRemovetoy={this.onRemovetoy}\r\n            onCheckBox={this.onCheckBox}\r\n            toys={toys}\r\n          />\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    toys: state.toyModule.toys,\r\n    filterBy: state.toyModule.filterBy,\r\n  };\r\n}\r\nconst mapDispatchToProps = {\r\n  loadtoys,\r\n  onRemovetoy,\r\n  onCheckBox,\r\n};\r\nexport const ToyApp = connect(mapStateToProps, mapDispatchToProps)(_ToyApp);\r\n","import React from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nclass _UserDetails extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: \"\",\r\n      password: \"\",\r\n      fullname: \"\",\r\n      prefs: { color: \"\", bgColor: \"\" },\r\n    },\r\n  };\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      credentials: {\r\n        username: \"\",\r\n        password: \"\",\r\n        fullname: \"\",\r\n        prefs: { color: \"\", bgColor: \"\" },\r\n      },\r\n    };\r\n    this.setState({ clearTemplate });\r\n  };\r\n\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({\r\n      credentials: { ...this.state.credentials, [field]: value },\r\n    });\r\n  };\r\n\r\n  onSave = (ev = null) => {\r\n    if (ev) ev.preventDefault();\r\n    this.props.dispatch({\r\n      type: \"SET_USER\",\r\n      user:this.state. credentials,\r\n    });\r\n    this.clearState();\r\n  };\r\n\r\n  render() {\r\n    const { username, password, fullname, color, bgColor } =\r\n      this.state.credentials;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <form onSubmit={this.onSave}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"fullname\"\r\n              value={fullname}\r\n              placeholder=\"Fullname\"\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              value={username}\r\n              placeholder=\"Username\"\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              placeholder=\"Password\"\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <input\r\n              type=\"color\"\r\n              name=\"color\"\r\n              value={color}\r\n              placeholder=\"color\"\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <input\r\n              type=\"color\"\r\n              name=\"bgColor\"\r\n              value={bgColor}\r\n              placeholder=\"bgColor\"\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n\r\n            <button type=\"button\" className=\"btn btn-outline-info\">\r\n              Save\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ user }) {\r\n  return {\r\n    user,\r\n  };\r\n}\r\n\r\nexport const UserDetails = connect(mapStateToProps)(_UserDetails);\r\n","\r\nimport React from 'react';\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\r\n\r\nclass _StorsMap extends  React.Component {\r\n\r\n    state = {\r\n        center: {\r\n            lat: 32.109333,\r\n            lng: 34.855499\r\n        },\r\n        isInfoWindowOn : false\r\n    }\r\n\r\n    onMapClicked = (props, map, ev) => {\r\n        console.log('props', props);\r\n        console.log('map', map);\r\n        console.log('ev', ev);\r\n        this.setState({ center: { lat: ev.latLng.lat(), lng: ev.latLng.lng() } })\r\n    }\r\n\r\n    onMarkerClicked=()=>{\r\n        this.setState({isInfoWindowOn: true})\r\n    }\r\n\r\n    onInfoWindowClose=()=>{\r\n        this.setState({isInfoWindowOn: false}) \r\n    }\r\n\r\n    render() {\r\n        return ( \r\n            \r\n            <Map\r\n                google={this.props.google}\r\n                zoom={10}\r\n                initialCenter={this.state.center}\r\n                onClick={this.onMapClicked}\r\n                center={this.state.center}\r\n                style={{width:\"85%\"}}\r\n               \r\n            >\r\n\r\n                <Marker\r\n                    position={this.state.center}\r\n                    name={'Current location'} \r\n                    onClick={this.onMarkerClicked}\r\n                    />\r\n\r\n                <InfoWindow \r\n                onClose={this.onInfoWindowClose}\r\n                position={this.state.center}\r\n                visible={this.state.isInfoWindowOn}\r\n                >\r\n                    <div>\r\n                        <h4>Rotshild 75,Tel-Aviv-Yaffo</h4>\r\n                    </div>\r\n                </InfoWindow>\r\n            </Map>\r\n        )\r\n    }\r\n}\r\n\r\nexport const StorsMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyBcHbsl6HTfMsdpKO2d3xY9UYQdF4BIUG4')\r\n})(_StorsMap)","import React from \"react\";\r\nimport { Pie } from \"react-chartjs-2\";\r\nimport { connect } from \"react-redux\";\r\nimport { StorsMap } from \"../cmps/StorsMap.jsx\";\r\nimport { loadtoys } from \"../store/toy.actions.js\";\r\nclass _Dashboard extends React.Component {\r\n  state = {\r\n    toysAvgPrice: null,\r\n  };\r\n  componentDidMount() {\r\n    this.props.loadtoys()\r\n    this.setLabelsPercent(this.props.toys)\r\n  }\r\n\r\n  setLabelsPercent = (toys) => {\r\n    const prices = [];\r\n    const avgPrice = [];\r\n    toys.map((toy) => {\r\n      toy.labels.map((label) => {\r\n        if (toy.labels.includes(label)) {\r\n          prices.push(toy.price);\r\n          let sum = prices.reduce(function (previousValue, currentValue) {\r\n            return previousValue + currentValue;\r\n          }, 0);\r\n          let avg = sum / prices.length;\r\n          avgPrice.push(avg);\r\n        }\r\n      });\r\n    });\r\n    console.log(avgPrice);\r\n    this.setState({ toysAvgPrice: avgPrice });\r\n  };\r\n\r\n  render() {\r\n    var data = {\r\n      labels: [\r\n        \"On wheels\",\r\n        \"Baby\",\r\n        \"Doll\",\r\n        \"Battery Powered\",\r\n        \"Kids\",\r\n        \"Outdoor\",\r\n      ],\r\n      datasets: [\r\n        {\r\n          data: this.state.toysAvgPrice,\r\n          backgroundColor: [\r\n            \"red\",\r\n            \"rgba(54, 162, 235, 0.2)\",\r\n            \"grey\",\r\n            \"yellow\",\r\n            \"black\",\r\n            \"pink\",\r\n          ],\r\n          borderColor: [\r\n            \"red\",\r\n            \"rgba(54, 162, 235, 0.2)\",\r\n            \"grey\",\r\n            \"yellow\",\r\n            \"black\",\r\n            \"pink\",\r\n          ],\r\n          borderWidth: 3,\r\n        },\r\n      ],\r\n    };\r\n\r\n    return (\r\n     <div>\r\n      <h4>Price distribution by type of toy</h4>\r\n        <Pie data={data}/> \r\n       </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    toys: state.toyModule.toys,\r\n  };\r\n}\r\nconst mapDispatchToProps = {\r\n  loadtoys,\r\n};\r\nexport const Dashboard = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_Dashboard);\r\n","import React from 'react';\r\n\r\nexport class LoginSignup extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: \"\",\r\n      password: \"\",\r\n      fullname: \"\",\r\n    },\r\n    isSignup: false,\r\n  };\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      credentials: {\r\n        username: \"\",\r\n        password: \"\",\r\n        fullname: \"\",\r\n      },\r\n      isSignup: false,\r\n    };\r\n    this.setState({ clearTemplate });\r\n  };\r\n\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({\r\n      credentials: { ...this.state.credentials, [field]: value },\r\n    });\r\n  };\r\n  \r\n  toggleSignup = () => {\r\n    this.setState({ isSignup: !this.state.isSignup })\r\n}\r\n\r\n  onLogin = (ev = null) => {\r\n    if (!this.state.credentials.username || !this.state.credentials.password) return;\r\n    if (ev) ev.preventDefault();\r\n    this.props.onLogin(this.state.credentials);\r\n    this.clearState()\r\n}\r\n\r\nonSignup = (ev = null) => {\r\n    if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n    if (ev) ev.preventDefault();\r\n    this.props.onSignup(this.state.credentials);\r\n    this.clearState()\r\n}\r\n\r\n  render() {\r\n    const { username, password, fullname } = this.state.credentials;\r\n    const { isSignup } = this.state;\r\n    return (\r\n      <div className=\"login-page\">\r\n        <p>\r\n          <button className=\"loginBtn\" onClick={this.toggleSignup}>\r\n            {!isSignup ? \"Signup\" : \"Login\"}\r\n          </button>\r\n        </p>\r\n        {!isSignup && \r\n          <form className=\"login-form\" onSubmit={this.onLogin}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              value={username}\r\n              placeholder=\"Username\"\r\n              onChange={this.handleChange}\r\n              required\r\n              autoFocus\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              placeholder=\"Password\"\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <button className=\"btn btn-outline-info\">\r\n              Login!\r\n            </button>\r\n          </form>\r\n        }\r\n\r\n        <div className=\"signup-section\">\r\n          {isSignup && \r\n            <form className=\"signup-form\" onSubmit={this.onSignup}>\r\n              <input\r\n                type=\"text\"\r\n                name=\"fullname\"\r\n                value={fullname}\r\n                placeholder=\"Fullname\"\r\n                onChange={this.handleChange}\r\n                required\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={username}\r\n                placeholder=\"Username\"\r\n                onChange={this.handleChange}\r\n                required\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={password}\r\n                placeholder=\"Password\"\r\n                onChange={this.handleChange}\r\n                required\r\n              />\r\n              <button className=\"btn btn-outline-info\">\r\n                Signup!\r\n              </button>\r\n            </form>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport { eventBusService } from \"../services/event-bus.service.js\";\r\n\r\nexport class UserMsg extends React.Component {\r\n  removeEvent;\r\n\r\n  state = {\r\n    msg: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // Here we listen to the event that we emited, its important to remove the listener\r\n    this.removeEvent = eventBusService.on(\"show-user-msg\", (msg) => {\r\n      this.setState({ msg });\r\n      setTimeout(() => {\r\n        this.setState({ msg: null });\r\n      }, 2500);\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvent();\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.msg) return <span></span>;\r\n    const msgClass = this.state.msg.type || \"\";\r\n    return (\r\n      <section className={\"user-msg \" + msgClass}>\r\n        <button\r\n          onClick={() => {\r\n            this.setState({ msg: null });\r\n          }}\r\n        >\r\n          x\r\n        </button>\r\n        {this.state.msg.txt}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport {  onLogout,onLogin,onSignup } from '../store/user.actions.js'\r\nimport { LoginSignup } from \"../cmps/login-signup.jsx\";\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { UserMsg } from '../cmps/user-msg.jsx';\r\n\r\nclass _Login extends React.Component {\r\n  onLogin = (credentials) => {\r\n    this.props.onLogin(credentials)\r\n}\r\nonSignup = (credentials) => {\r\n    this.props.onSignup(credentials)\r\n}\r\nonLogout = () => {\r\n    this.props.onLogout()\r\n}\r\n\r\n\r\n  render() {    const { user } = this.props;\r\n  \r\n    return (\r\n      <header>\r\n       \r\n       <section className=\"home bg-info p-2 text-dark bg-opacity-25 margin\">\r\n       {user && (\r\n          <section>\r\n            <Link className=\"link-dark margin\" to={`/user/${user._id}`}>\r\n              User profile\r\n            </Link>\r\n            <section className=\"user-info margin \">\r\n              <pre>wellcom back! {JSON.stringify(user.username)}</pre>\r\n              <button\r\n                type=\"button\"\r\n                className=\" logout btn btn-outline-danger margin\"\r\n                onClick={this.onLogout}\r\n              >\r\n                Logout\r\n              </button>\r\n            </section>\r\n          </section>\r\n        )}\r\n       {!user && <LoginSignup onLogin={this.onLogin} onSignup={this.onSignup}/>}\r\n      </section>\r\n        <UserMsg />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.userModule.user,\r\n   \r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onSignup,\r\n  onLogin,\r\n    onLogout\r\n  }\r\nexport const Login = connect(mapStateToProps,mapDispatchToProps)(_Login);\r\n","import React from 'react';\r\n\r\nimport { userService } from \"../services/user.service.js\";\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js'\r\n\r\nexport function onLogin(credentials) {\r\n    return (dispatch) => {\r\n        userService.login(credentials)\r\n            .then(user => dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            }))\r\n            .catch(err => {\r\n                showErrorMsg('Cannot login')\r\n                console.log('Cannot login', err)\r\n            })\r\n    }\r\n}\r\n\r\nexport function onSignup(credentials) {\r\n    return (dispatch) => {\r\n        userService.signup(credentials)\r\n            .then(user => {\r\n                dispatch({\r\n                    type: 'SET_USER',\r\n                    user\r\n                })\r\n                console.log(user);\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot signup')\r\n                console.log('Cannot signup', err)\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return (dispatch) => {\r\n        userService.logout()\r\n            .then(() => dispatch({\r\n                type: 'SET_USER',\r\n                user: null\r\n            }))\r\n            .catch(err => {\r\n                showErrorMsg('Cannot logout')\r\n                console.log('Cannot logout', err)\r\n            })\r\n    }\r\n}\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import { toyService } from \"./toy.service\"\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n}\r\n\r\n    \r\nfunction query(entityType, delay = 1200) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) ||  toyService.gToys\r\n    return new Promise((resolve, reject)=>{\r\n        setTimeout(()=>{\r\n            // reject('OOOOPs')\r\n            resolve(entities)\r\n        }, delay)   \r\n    })\r\n    // return Promise.resolve(entities)\r\n}\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity.id === entityId))\r\n}\r\n\r\nfunction post(entityType, newEntity) {\r\n    newEntity.id = _makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity.id === updatedEntity.id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity.id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    console.log('entityType FROM SAVE!', entityType,entities)\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}","import { httpService } from './http.service'\r\nimport { storageService } from './async-storage.service'\r\nimport {userService} from './user.service'\r\n// import { socketService, SOCKET_EVENT_REVIEW_ADDED } from './socket.service'\r\n\r\nexport const reviewService = {\r\n  add,\r\n  query,\r\n  remove\r\n}\r\n\r\n\r\n// More ways to send query params:\r\n// return axios.get('api/toy/?id=1223&balance=13')\r\n// return axios.get('api/toy/?', {params: {id: 1223, balanse:13}})\r\n\r\nfunction query(filterBy) {\r\n  var queryStr = (!filterBy) ? '' : `?name=${filterBy.name}&sort=anaAref`\r\n  return httpService.get(`review${queryStr}`)\r\n  // return storageService.query('review')\r\n}\r\n\r\nfunction remove(reviewId) {\r\n  return httpService.delete(`review/${reviewId}`)\r\n  // return storageService.remove('review', reviewId)\r\n\r\n}\r\nasync function add(review) {\r\n  const addedReview = await httpService.post(`review`, review)\r\n\r\n  // review.byUser = userService.getLoggedinUser()\r\n  // review.aboutUser = await userService.getById(review.aboutUserId)\r\n  // const addedReview = storageService.post('review', review)\r\n\r\n  return addedReview\r\n}\r\n\r\n// This IIFE functions for Dev purposes \r\n// It allows testing of real time updates (such as sockets) by listening to storage events\r\n(async () => {\r\n  var reviews = await storageService.query('review')\r\n\r\n  // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n  window.addEventListener('storage', async () => {\r\n    console.log('Storage updated');\r\n    const freshReviews = await storageService.query('review')\r\n    if (freshReviews.length === reviews.length + 1 ){\r\n      console.log('Review Added - localStorage updated from another browser')\r\n      // socketService.emit(SOCKET_EVENT_REVIEW_ADDED, freshReviews[freshReviews.length-1])\r\n    }\r\n    reviews = freshReviews\r\n  });\r\n})()\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { loadReviews, addReview, removeReview } from '../store/review.actions'\r\nimport { loadUsers } from '../store/user.actions.js'\r\n\r\nclass _ReviewApp extends Component {\r\n  state = {\r\n    reviewToEdit: {\r\n      txt: '',\r\n      aboutUserId: ''\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadReviews()\r\n    this.props.loadUsers()\r\n  }\r\n\r\n  handleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      reviewToEdit: {\r\n        ...prevState.reviewToEdit,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  addReview = async ev => {\r\n    ev.preventDefault()\r\n    const { reviewToEdit } = this.state\r\n    if (!reviewToEdit.txt || !reviewToEdit.aboutUserId) return alert('All fields are required')\r\n    await this.props.addReview(this.state.reviewToEdit)\r\n    this.setState({ reviewToEdit: { txt: '', aboutUserId: '' } })\r\n  }\r\n\r\n  onRemove = async reviewId => {\r\n    await this.props.removeReview(reviewId)\r\n    // this.props.history.push('/login')\r\n  }\r\n\r\n  canRemove = review =>\r\n    (review.byUser._id === this.props.loggedInUser?._id || this.props.loggedInUser?.isAdmin)\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"home\">\r\n        <h1>Reviews and Gossip</h1>\r\n        {this.props.reviews && <ul className=\"review-list\">\r\n          {this.props.reviews.map(review => (\r\n            <li key={review._id}>\r\n              { this.canRemove(review) &&\r\n                <button onClick={() => this.onRemove(review._id)}>X</button>}\r\n              <p>\r\n                About:\r\n                <Link to={`user/${review.aboutUser._id}`}>\r\n                  {review.aboutUser.fullname}\r\n                </Link>\r\n              </p>\r\n              <h3>{review.txt}</h3>\r\n\r\n              <p>\r\n                By:\r\n                <Link to={`user/${review.byUser._id}`}>\r\n                  {review.byUser.fullname}\r\n                </Link>\r\n              </p>\r\n            </li>\r\n          ))}\r\n        </ul>}\r\n        {this.props.users && this.props.loggedInUser &&\r\n          <form onSubmit={this.addReview}>\r\n            <select\r\n              onChange={this.handleChange}\r\n              value={this.state.reviewToEdit.aboutUserId}\r\n              name=\"aboutUserId\"\r\n            >\r\n              <option value=\"\">Select User</option>\r\n              {this.props.users.map(user => (\r\n                <option key={user._id} value={user._id}>\r\n                  {user.fullname}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <textarea\r\n              name=\"txt\"\r\n              onChange={this.handleChange}\r\n              value={this.state.reviewToEdit.txt}\r\n            ></textarea>\r\n            <button>Submit</button>\r\n          </form>}\r\n        <hr />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    reviews: state.reviewModule.reviews,\r\n    users: state.userModule.users,\r\n    loggedInUser: state.userModule.user\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadReviews,\r\n  loadUsers,\r\n  addReview,\r\n  removeReview\r\n}\r\n\r\nexport const ReviewApp = connect(mapStateToProps, mapDispatchToProps)(_ReviewApp)\r\n","import { reviewService } from '../services/review.service'\r\n// import { socketService, SOCKET_EVENT_REVIEW_ADDED } from '../services/socket.service'\r\nimport { userService } from '../services/user.service'\r\n\r\nconst SCORE_FOR_REVIEW = 500\r\n\r\nexport function loadReviews() {\r\n  return async dispatch => {\r\n    try {\r\n      const reviews = await reviewService.query()\r\n      dispatch({ type: 'SET_REVIEWS', reviews })\r\n      // // socketService.on(SOCKET_EVENT_REVIEW_ADDED, (review) =>{\r\n      //   dispatch({ type: 'ADD_REVIEW', review })\r\n      // })\r\n\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in loadReviews', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function addReview(review) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedReview = await reviewService.add(review)\r\n      dispatch({ type: 'ADD_REVIEW', review: addedReview })\r\n\r\n      const score = await userService.changeScore(SCORE_FOR_REVIEW)\r\n      dispatch({ type: 'SET_SCORE', score })\r\n      \r\n    } catch (err) {\r\n      console.log('ReviewActions: err in addReview', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeReview(reviewId) {\r\n  return async dispatch => {\r\n    try {\r\n      await reviewService.remove(reviewId)\r\n      dispatch({ type: 'REMOVE_REVIEW', reviewId })\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in removeReview', err)\r\n    }\r\n  }\r\n}\r\n","import { Home } from \"./pages/home.jsx\";\r\nimport { ToyApp } from \"./pages/toy-app.jsx\";\r\nimport { UserDetails } from \"./pages/user-details.jsx\";\r\nimport { ToyDetails } from \"./pages/toy-details.jsx\";\r\nimport { ToyEdit } from \"./pages/toy-edit.jsx\";\r\nimport { Dashboard } from \"./pages/dashboard.jsx\";\r\nimport { About } from \"./pages/about.jsx\";\r\nimport { Login } from \"./pages/login.jsx\";\r\nimport { ReviewApp } from \"./pages/review-app.jsx\";\r\n\r\nexport default [\r\n  {\r\n    path: \"/user/:userId\",\r\n    component: UserDetails,\r\n  },\r\n  {\r\n    path: \"/toy/edit/:toyId\",\r\n    component: ToyEdit,\r\n  },\r\n  {\r\n    path: \"/toy/dashbord\",\r\n    component: Dashboard,\r\n  },\r\n  ,\r\n  {\r\n    path: \"/toy/login\",\r\n    component: Login,\r\n  },\r\n  {\r\n    path: \"/toy/:toyId\",\r\n    component: ToyDetails,\r\n  },\r\n  {\r\n    path: \"/review\",\r\n    component: ReviewApp,\r\n    label: \"Reviews\",\r\n  },\r\n  {\r\n    path: \"/toy\",\r\n    component: ToyApp,\r\n  },\r\n  {\r\n    path: \"/about\",\r\n    component: About,\r\n  },\r\n  {\r\n    path: \"/\",\r\n    component: Home,\r\n  },\r\n];\r\n","import { StorsMap } from \"../cmps/StorsMap\";\r\n\r\nexport function About(){\r\nreturn(\r\n   <div>\r\n       <h5>come visit us and see all the selection in our store..</h5>\r\n    <StorsMap/>\r\n    </div>\r\n)\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { UserMsg } from \"./user-msg.jsx\";\r\n\r\nclass _AppHeader extends React.Component {\r\n  render() {\r\n    return (\r\n      <header>\r\n        <nav>\r\n          <div className=\"nav-wrapper\"> \r\n          <a href=\"/\" className=\"brand-logo\">\r\n                MisterToys   \r\n              </a>\r\n            <ul id=\"nav-mobile\" className=\"left hide-on-med-and-down\"> \r\n            \r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/\">Home</NavLink>{\" \"}\r\n              </li>\r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/about\">About</NavLink>\r\n              </li>\r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/toy\">Toys</NavLink>\r\n              </li>\r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/toy/dashbord\">Dashbord</NavLink>\r\n              </li>\r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/toy/login\">Login</NavLink>\r\n              </li>{\" \"}\r\n         \r\n            </ul>\r\n          </div>{\" \"}\r\n        </nav>\r\n        <UserMsg />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.userModule.user,\r\n    toys: state.toyModule.toys,\r\n  };\r\n}\r\n\r\nexport const AppHeader = connect(mapStateToProps)(_AppHeader);\r\n","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport function Footer(){\r\n    return(\r\n        <footer>\r\n            <nav>\r\n          <div className=\"footer\"> \r\n       \r\n            <ul > \r\n            \r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/\">Home</NavLink>{\" \"}\r\n              </li>\r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/about\">About</NavLink>\r\n              </li>\r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/toy\">Toys</NavLink>\r\n              </li>\r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/toy/dashbord\">Dashbord</NavLink>\r\n              </li>\r\n              <li>\r\n                {\" \"}\r\n                <NavLink to=\"/toy/login\">Login</NavLink>\r\n              </li>{\" \"}\r\n         \r\n            </ul>\r\n          </div>{\" \"}\r\n        </nav>\r\n            <p>cofferight 2021 MoriyaEldar</p>\r\n        </footer>\r\n    )\r\n}","import React from 'react'\r\nimport { Switch, Route } from 'react-router'\r\nimport routes from './routes.js'\r\n\r\nimport {AppHeader} from './cmps/app-header.jsx'\r\nimport { Footer } from './cmps/app-footer.jsx'\r\nexport class RootCmp extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <AppHeader />\r\n                <main>\r\n                    <Switch>\r\n                        {routes.map(route=> <Route key={route.path} exact component={route.component} path={route.path} /> )}\r\n                    </Switch>\r\n                </main>\r\n            <Footer/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/styles.scss';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport {store} from './store/store'\nimport {RootCmp} from './root-cmp';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n        <Router>\n          <RootCmp />\n        </Router>\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n  \n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}